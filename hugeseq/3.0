#%Module1.0
# Consense Module File
#
## Consense modulefile
##
## Initializes Consense
##

proc ModulesHelp { } {
        puts stderr "\tInitializes your environment to use the Consense variant detection pipeline\n"
        puts stderr "\tVersion $hugeseq_version\n"
}

module-whatis "Initializes the Consense variant detection pipeline"

# Setting paths and env for Consense
set hugeseq 3.0

# sets the MODULESAPPSDIR env var
module add modsappsdir

#setenv CONSENSEROOT /srv/gsfs0/software/consense
setenv HUGESEQ /srv/gsfs0/software/hugeseq/hugeseq-3.0/HugeSeq
prepend-path PATH /srv/gsfs0/software/hugeseq/hugeseq-3.0/HugeSeq/bin

# Setting data resource directory
set dat_dir /srv/gsfs0/projects/gbsc/Resources/GATK
#set dat_dir /srv/gsfs0/software/genome-strip/2.0/svtoolkit/data/Homo_sapiens_assembly19/

# Setting paths for programming tools
module load python/2.7

# Setting paths and env for alignment tools
module load bwa/0.7.12

# Setting paths and env for variant detection annotation tools
module load gatk/3.6
#module load gatk/3.2.2
module load cnvnator/0.2.7
module load breakseqlite
module load annovar/20150617
module load samtools/0.1.19
module load freebayes
module load vcflib

# Setting perl libraries (for BreakDancer)
setenv PERLLIB /srv/gsfs0/software/hugeseq/hugeseq-2.3/perllib
prepend-path PERL5LIB $::env(PERLLIB)/File-Path-2.08/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/Statistics-Descriptive-2.6/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/GD-2.45/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/GDGraph-1.44/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/GDGraph-histogram-1.1/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/GDTextUtil-0.86/blib/lib
prepend-path PERL5LIB $::env(PERLLIB)/Math-CDF-0.1/blib/lib

# Setting paths and env for utilities
module load breakdancer/1.1.2
module load pindel
module load bedtools
module load tabix
module load vcftools
module load root/5.34.07

# Setting env for supporting databases
setenv BPLIB $dat_dir/bplib/bplib.alt.fa
#setenv REF $dat_dir/hg19-3.0/ucsc.hg19.fasta
setenv REF $dat_dir/b37/human_g1k_v37_decoy.fasta
#setenv REFSDF $dat_dir/rtg/ucsc.hg9.sdf
setenv REFSDF /srv/gsfs0/software/rtg-core/data/human_g1k_v37_decoy.sdf
#setenv DIC $dat_dir/hg19-3.0/ucsc.hg19.dict
setenv DIC $dat_dir/b37/human_g1k_v37_decoy.dict
#setenv DBSNP $dat_dir/hg19-3.0/dbsnp_138.hg19.vcf
setenv DBSNP $dat_dir/b37/dbsnp_137.b37.vcf
#setenv HAPMAP $dat_dir/hg19-3.0/hapmap_3.3.hg19.vcf
setenv HAPMAP $dat_dir/b37/hapmap_3.3.b37.vcf
#setenv OMNI_1K $dat_dir/hg19-3.0/1000G_omni2.5.hg19.vcf
setenv OMNI_1K $dat_dir/b37/1000G_omni2.5.b37.vcf
#setenv GOLD_1K_SNPS $dat_dir/hg19-3.0/1000G_phase1.snps.high_confidence.hg19.vcf
setenv GOLD_1K_SNPS $dat_dir/b37/1000G_phase1.snps.high_confidence.b37.vcf
#setenv MILLS_1K_GOLD_INDELS $dat_dir/hg19-3.0/Mills_and_1000G_gold_standard.indels.hg19.vcf
setenv MILLS_1K_GOLD_INDELS $dat_dir/b37/Mills_and_1000G_gold_standard.indels.b37.vcf
#setenv GOLD_1K_INDELS $dat_dir/hg19-3.0/1000G_phase1.indels.hg19.vcf
setenv GOLD_1K_INDELS $dat_dir/b37/1000G_phase1.indels.b37.vcf
#setenv REFSEQ /srv/gsfs0/software/consense/0.1/bin/data/refseq/RefSeq.02-22-2016.exons.bed
setenv REFSEQ /srv/gsfs0/software/consense/0.1/bin/data/refseq/RefSeq.02-22-2016.exons.b37.bed

module load picard-tools/2.4.1
#module load rtg-core/3.5.1
module load rtg-core/3.7
module load fastqc
module load snpeff/4.1e
module load vcflib

# Setting paths and env for the Simple Job Manager (SJM)
module load sjm/1.2/15sec
